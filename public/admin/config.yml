# See https://github.com/netlify/netlify-cms/blob/master/example/config.yml
backend:
  name: git-gateway
  branch: master # Branch to update (optional; defaults to master)

# display_url: https://netlify-cms-react-starter.netlify.com # This url will display in the top-right of the CMS
media_folder: "public/images/uploads" # Media files will be stored in the repo under static/images/uploads
public_folder: "/images/uploads" # The src attribute for uploaded media will begin with /images/uploads

collections: # A list of collections the CMS should be able to edit
  - name: supported-fields
    label: Fields
    delete: false # Prevent users from deleting documents in this collection
    editor:
      preview: false
    files:
      - file: configs/supportedFields.json
        label: supported-fields
        name: supported-fields
        fields:
          - label: supported-fields
            name: supported-fields
            widget: list
            field: 
              label: supported-fields
              name: supported-fields
              widget: string
  - name: "Country Configs"
    label: "Configs"
    delete: false # Prevent users from deleting documents in this collection
    editor:
      preview: false
    files:
      - file: "configs/xz.json"
        label: "XZ Settings"
        name: "xz-settings"
        fields:
          - label: Self-Service
            name: self-service, 
            widget: list
            field: 
              label: Input field
              name: input-field
              widget: object
              fields: 
                - label: "Field"
                  name: fieldType
                  widget: "relation"
                  collection: supported-fields
                  file: supported-fields
                  search_fields: [supported-fields.*.supported-fields]
                  value_field: supported-fields.*.supported-fields
                  display_fields: [supported-fields.*.supported-fields]
            
